(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(4),s=n.n(r),i=(n(16),n(1)),u=n(2),c=n(5),l=n(6),d=n(8),h=n(7),f=n(9),m=(n(17),function(e){var t=e.name,n=e.email;return o.a.createElement("a",{href:"mailto:".concat(n)},t)}),v=function(e){var t=e.title,n=e.user;return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("h3",null,t)),o.a.createElement("td",null,o.a.createElement(m,n)))},O=function(e){var t=e.todos;return o.a.createElement("table",{cellSpacing:20},o.a.createElement("tbody",null,t.map(function(e){return o.a.createElement(v,Object.assign({key:e.id},e))})))},p=function(e){var t=e.search,n=e.value;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",onChange:t,value:n}))},g="https://jsonplaceholder.typicode.com",E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).loadData=function(){n.makeRequest("".concat(g,"/todos"),n.handleTODOsLoad),n.makeRequest("".concat(g,"/users"),n.handleUsersLoad)},n.handleTODOsLoad=function(e){return function(){n.setState(function(t){return{todos:JSON.parse(e.responseText),isTODOSLoaded:!0,loadingCount:t.loadingCount-1}})}},n.handleUsersLoad=function(e){return function(){n.setState(function(t){return{users:JSON.parse(e.responseText),isUsersLoaded:!0,loadingCount:t.loadingCount-1}},n.checkData)}},n.search=function(e){var t=e.target.value;n.setState(function(e){var n=e.todosWithUsers.filter(function(e){return e.title.includes(t)});return{searchBy:t,filteredTodosWithUsers:n}})},n.state={todos:null,users:null,isTODOSLoaded:!1,isUsersLoaded:!1,loadingCount:0,todosWithUsers:null,filteredTodosWithUsers:null,searchBy:""},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"makeRequest",value:function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.addEventListener("load",t(n)),n.send(),this.setState(function(e){return{loadingCount:e.loadingCount+1}})}},{key:"checkData",value:function(){var e=this.state,t=e.isTODOSLoaded,n=e.isUsersLoaded,a=e.users,o=e.todos;if(t&&n){var r=a.reduce(function(e,t){return Object(u.a)({},e,Object(i.a)({},t.id,t))},{}),s=o.map(function(e){return Object(u.a)({},e,{user:r[e.userId]})});this.setState({filteredTodosWithUsers:s,todosWithUsers:s})}}},{key:"render",value:function(){var e=this.state,t=e.isTODOSLoaded,n=e.isUsersLoaded,a=e.loadingCount,r=e.filteredTodosWithUsers,s=e.searchBy,i=t&&n&&null!==r,u=0!==a,c=o.a.createElement("button",{type:"button",disabled:i,onClick:this.loadData},u?"Loading...":"Load data");return i?o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{search:this.search,value:s}),c,o.a.createElement(O,{todos:r})):c}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.f4ef0799.chunk.js.map